{% extends "base.html" %}
{% block title %}Cursos - Estudify{% endblock %}
{% block content %}
<div class="container py-4">
  <h2 class="mb-4 text-primary fw-bold"><i class="fas fa-book"></i> Lista de Cursos</h2>
  <div class="mb-3 text-end">
    <a href="{% url 'courses:course_create' %}" class="btn btn-success shadow">
      <i class="fas fa-plus"></i> Nuevo Curso
    </a>
  </div>
  <div class="card bg-dark shadow border-secondary">
    <div class="card-header bg-primary text-white">
      <i class="fas fa-book-reader"></i> Cursos disponibles
    </div>
    <div class="card-body">
      <table class="table table-dark table-striped table-hover align-middle">
        <thead>
          <tr>
            <th>Nombre</th><th>Código</th><th>Descripción</th>
            <th>Docente</th><th>Año</th><th>Semestre</th>
            <th>Máx.</th><th>Activo</th><th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          {% for course in courses %}
          <tr>
            <td>{{ course.name }}</td>
            <td>{{ course.code }}</td>
            <td>{{ course.description|truncatechars:40 }}</td>
            <td>{{ course.teacher.get_full_name }}</td>
            <td>{{ course.academic_year }}</td>
            <td>{{ course.semester }}</td>
            <td>{{ course.max_students }}</td>
            <td>
              {% if course.is_active %}
                <span class="badge bg-success">Sí</span>
              {% else %}
                <span class="badge bg-danger">No</span>
              {% endif %}
            </td>
            <td>
              <a href="{% url 'courses:course_detail' course.pk %}" class="btn btn-outline-info btn-sm" title="Ver"><i class="fas fa-eye"></i></a>
              <a href="{% url 'courses:course_edit' course.pk %}" class="btn btn-outline-warning btn-sm" title="Editar"><i class="fas fa-edit"></i></a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="9" class="text-center text-warning">No hay cursos registrados.</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
